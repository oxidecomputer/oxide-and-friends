# Oxide and Friends: November 24th, 2025

## A Grown-up ZFS Data Corruption Bug

We've been hosting a live show weekly on Mondays at 5p for about an hour,
and recording them all; here is
[the recording](https://youtu.be/srKYxF66A0c).

Hey hey! We recently tripped over a ZFS data corruption bugâ€“introduced over 18
years ago! Bryan and Adam discuss with members of the Oxide team as well as
Matt Ahrens, the co-inventor of ZFS.

In addition to
[Bryan Cantrill](https://bsky.app/profile/bcantrill.bsky.social) and
[Adam Leventhal](https://bsky.app/profile/ahl.bsky.social),
speakers included
Alan Hanson,
[Matt Keeter](https://hachyderm.io/@mjk),
Andy Fiddaman,
James MacMahon,
and special guest, Matt Ahrens.

Previously, on Oxide and Friends:
- [OxF s4e6 - Crucible: the Oxide Storage Service](https://oxide-and-friends.transistor.fm/episodes/crucible-the-oxide-storage-service)
- [OxF s5e28 - Systems Software in the Large](https://oxide-and-friends.transistor.fm/episodes/systems-software-in-the-large)

Some of the topics we hit on, in the order that we hit them:

- [Background: ZFS ZIL](https://www.truenas.com/docs/references/zilandslog/)
- [Illumos issue 17734: ZFS fsync can trigger ZIL transaction reordering and data corruption](https://www.illumos.org/issues/17734) and
  [fix](https://github.com/illumos/illumos-gate/commit/f6559a18843abdfa5849b9e74f239f9bd15796d3)
- [RFD 177: Implementation of Data Storage](https://rfd.shared.oxide.computer/rfd/0177)
- [2007 OpenSolaris "fix" that introduced data corruption](https://github.com/illumos/illumos-gate/commit/ec533521f091387e2911769818ae4be26219fca2) and
  [bug](https://illumos.org/opensolaris/bugdb/bug.html#!6535160)
- [2023 removal from OpenZFS with buried data corruption lede](https://github.com/openzfs/zfs/pull/15366)
- PRs needed!

If we got something wrong or missed something, please file a PR!
Our next show will likely be on Monday at 5p Pacific Time on our Discord
server; stay tuned to our Mastodon feeds for details, or [subscribe to this
calendar](https://calendar.google.com/calendar/ical/c_318925f4185aa71c4524d0d6127f31058c9e21f29f017d48a0fca6f564969cd0%40group.calendar.google.com/public/basic.ics).
We'd love to have you join us, as we always love to hear from new speakers!

